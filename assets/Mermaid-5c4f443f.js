import{r as t,_ as x,j as i}from"./index-1201cd26.js";import{y as I}from"./Markdown-b8f127a5.js";import{u as w,F as k}from"./Gallery-04417c57.js";import"./helper-03e0976d.js";import"./spring-625973a2.js";import"./index-6ba2b095.js";import"./LinkCard-01ebdf98.js";import"./Divider-9e2bd30c.js";import"./env-d87a2338.js";import"./Collapse-5eb6228a.js";import"./RichLink-0c9c74ba.js";const N=o=>{const[E,m]=t.useState(!0),[v,d]=t.useState(""),[c,u]=t.useState(""),[h,l]=t.useState(),[_,f]=t.useState(),g=I().theme==="dark";t.useEffect(()=>{x(()=>import("./mermaid.core-bc41a6b3.js").then(r=>r.b4),["assets/mermaid.core-bc41a6b3.js","assets/index-1201cd26.js","assets/index-9c7ba7fc.css","assets/LinkCard-01ebdf98.js","assets/Divider-9e2bd30c.js","assets/helper-03e0976d.js","assets/spring-625973a2.js","assets/index-6ba2b095.js","assets/env-d87a2338.js","assets/LinkCard-b879cb74.css"]).then(async r=>{r.default.initialize({theme:g?"dark":"default"})})},[g]);const a=t.useId().split(":").join("");t.useEffect(()=>{if(!o.content)return;d(""),m(!0);let r=!1;x(()=>import("./mermaid.core-bc41a6b3.js").then(s=>s.b4),["assets/mermaid.core-bc41a6b3.js","assets/index-1201cd26.js","assets/index-9c7ba7fc.css","assets/LinkCard-01ebdf98.js","assets/Divider-9e2bd30c.js","assets/helper-03e0976d.js","assets/spring-625973a2.js","assets/index-6ba2b095.js","assets/env-d87a2338.js","assets/LinkCard-b879cb74.css"]).then(async s=>{var p;const y=s.default;let n;try{n=await y.render(`mermaid-${a}`,o.content)}catch(e){(p=document.getElementById(`dmermaid-${a}`))==null||p.remove(),e instanceof Error&&d(e.message),u(""),l(void 0),f(void 0)}if(!r){if(n){u(n.svg);const e=n.svg.match(/viewBox="[^"]*\s([\d.]+)\s([\d.]+)"/);e!=null&&e[1]&&(e!=null&&e[2])&&(l(parseInt(e==null?void 0:e[1])),f(parseInt(e==null?void 0:e[2]))),d("")}return m(!1),()=>{r=!0}}})},[a,o.content]);const{w:S}=w(),b=new TextEncoder().encode(c),j=`data:image/svg+xml;base64,${btoa(String.fromCharCode(...new Uint8Array(b)))}`;return E?i.jsx("div",{className:"flex min-h-[50px] items-center justify-center rounded-lg bg-slate-100 text-sm dark:bg-neutral-800",children:"Mermaid Loading..."}):c?i.jsx("div",{children:i.jsx(k,{containerWidth:S,src:j,width:h,height:_})}):i.jsx("div",{className:"flex min-h-[50px] items-center justify-center rounded-lg bg-red-100 text-sm",children:v||"Error"})};export{N as Mermaid};
